###############################################################################
# /etc/security/limits.conf
# High concurrency TCP server tuning (Ubuntu 22.04)
###############################################################################

############################
# 全局默认（所有用户）
############################

* soft nofile 1048576
* hard nofile 1048576

* soft nproc 262144
* hard nproc 262144

# 锁内存（一般不开，除非明确需要）
* soft memlock unlimited
* hard memlock unlimited

# core dump：生产环境默认关闭
* soft core 0
* hard core 0

############################
# root 用户（运维/应急）
############################

root soft nofile 1048576
root hard nofile 1048576

root soft nproc 262144
root hard nproc 262144

root soft memlock unlimited
root hard memlock unlimited

############################
# 专用服务用户（强烈推荐）
############################
# 示例：
# 如果你用专用用户跑服务，建议明确写一份

#tcpsvc soft nofile 1048576
#tcpsvc hard nofile 1048576
#tcpsvc soft nproc 262144
#tcpsvc hard nproc 262144
#tcpsvc soft memlock unlimited
#tcpsvc hard memlock unlimited

###############################################################################
# End of file
###############################################################################
